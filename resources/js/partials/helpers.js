/*const getMimeTypeFromData = function(data) {

    var mimes = [
        {
            mime: 'image/jpeg',
            pattern: [0xFF, 0xD8, 0xFF],
            mask: [0xFF, 0xFF, 0xFF],
        },
        {
            mime: 'image/png',
            pattern: [0x89, 0x50, 0x4E, 0x47],
            mask: [0xFF, 0xFF, 0xFF, 0xFF],
        }
        // you can expand this list @see https://mimesniff.spec.whatwg.org/#matching-an-image-type-pattern
    ];

    var bytes = new Uint8Array(data);
    return mimes.find(mime => {
        for (var i = 0, l = mime.mask.length; i < l; ++i) {
            if ((bytes[i] & mime.mask[i]) - mime.pattern[i] !== 0) {
                return false;
            }
        }
        return true;
    }).mime || "application/unknown";

};

const getExtensionFromMime = function(mime) {
	switch(mime) {
		case 'text/csv':
		case 'image/png':
		case 'image/jpeg':
			return mime.split('/')[1];
	}
};*/

const download = function(data, fileName, mimeType) {
    var blob = new Blob([data]);
    blob = blob.slice(0, blob.size, mimeType);

    const url = window.URL.createObjectURL(blob);
    const link = document.createElement('a');
    link.href = url;
    link.setAttribute('download', fileName);
    document.body.appendChild(link);
    link.click();
};

export { download };