(self.webpackChunk=self.webpackChunk||[]).push([[669],{5374:function(e,t){"use strict";t.Z={data(){return{data:null,states:{},previousState:null,state:null}},methods:{send(e,t){this.data=t;var a=this.states[this.state][e]||this.states[this.state]["*"];a&&(this.previousState=this.state,this.state=a,(this["state"+this.state[0].toUpperCase()+this.state.slice(1)]||function(){})())}}}},9496:function(e,t,a){"use strict";a.d(t,{F:function(){return p}});var i={},r=a(1900),n=(0,r.Z)(i,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("span",[e._v(e._s(e.$t("common.internal")))])}),[],!1,null,null,null).exports,s=a(8424),o={props:{delay:{type:Number,required:!0,default:100}},data:()=>({show:!1}),mounted(){setTimeout((()=>{this.show=!0}),this.delay)}},l={components:{Timer:(0,r.Z)(o,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("span",[e.show?e._t("default"):e._e()],2)}),[],!1,null,null,null).exports},props:{fetchurl:{type:String,required:!0}},data:()=>({loading:!1}),mounted(){this.loading=!0,(0,s.Z)(this.fetchurl).then((e=>{this.$emit("success",e)})).catch((e=>{this.$emit("error")})).finally((()=>{this.loading=!1}))}},u=(0,r.Z)(l,(function(){var e=this.$createElement;return(this._self._c||e)("timer",{attrs:{delay:2e3}})}),[],!1,null,null,null).exports,c=a(3037),d=a(5374);const p=e=>(e=e||c.Z,{mixins:[d.Z],components:{Failure:n,Fetcher:u,Form:e},el:"#wrap",data:{state:"Fetcher",states:Object.freeze({Fetcher:{success:"Form",failure:"Failure"}})}});p()},7678:function(e,t,a){"use strict";var i=a(538),r=a(7152),n=a(1832),s=a(3171),o=a.n(s),l=a(379),u=a(8261),c=a(381),d=a.n(c),p=a(8424),m=a(2376),f=a(8620),v=a(5374);i.Z.use(f.ZP);var h={mixins:[v.Z],inheritAttrs:!1,props:{value:{type:String,required:!0},validation:{type:Object,default:null},update:{type:Function,required:!0},disabled:{type:Boolean,default:!1}},validations(){return{newValue:this.validation||{}}},data:function(){return{states:Object.freeze({view:{edit:"editing"},editing:{validate:"editingValidating",cancel:"view",blur:"editingBlur"},editingBlur:{same:"view",different:"editingValidating"},editingValid:{validate:"editingValidating",submit:"viewUpdating",cancel:"view",blur:"editingBlur"},editingInvalid:{validate:"editingValidating",cancel:"view"},editingValidating:{valid:"editingValid",invalid:"editingInvalid"},viewUpdating:{success:"viewUpdated",error:"viewError"},viewUpdated:{edit:"editing",timer:"view"},viewError:{edit:"editing",resend:"viewUpdating"}}),state:"view",newValue:this.value}},computed:{isSame(){return this.newValue===this.value},view(){return this.state.startsWith("view")},updating(){return"viewUpdating"===this.state}},methods:{onBlur(){this.$v.$touch(),this.send("blur")},onCancel(){this.$v.$reset(),this.send("cancel")},onInput(){this.$v.$error&&this.$v.$touch(),this.send("validate")},onSubmit(){this.$v.$touch(),this.send("submit")},onResend(){this.send("resend")},submit(){return this.update(this.newValue)},stateView(){this.newValue=this.value},stateEditing(){this.$nextTick((()=>this.$refs.input.focus()))},stateEditingBlur(){this.isSame?this.send("same"):this.send("different")},stateEditingValidating(){this.$v.$invalid||this.$el.querySelectorAll("input:invalid").length>0?this.send("invalid"):this.send("valid")},stateViewUpdating(){this.submit().then((()=>{this.send("success")})).catch((()=>{this.send("error")}))},stateViewUpdated(){setTimeout((()=>{this.send("timer")}),5e3)}}},b=a(3379),g=a.n(b),x=a(2593),w={insert:"head",singleton:!1},y=(g()(x.Z,w),x.Z.locals,a(1900)),_=(0,y.Z)(h,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{attrs:{method:"post",autocomplete:"off"},on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[a("fieldset",{attrs:{disabled:e.updating||e.disabled}},[a("div",{staticClass:"input-group",attrs:{"data-state":e.state,"data-previous-state":e.previousState}},[e.updating?a("div",{staticClass:"input-group-prepend"},[a("i",{staticClass:"input-group-text fas fa-spinner fa-spin"})]):e._e(),e._v(" "),"viewUpdated"===e.state?a("div",{staticClass:"input-group-prepend"},[a("i",{staticClass:"input-group-text fas fa-check"})]):e._e(),e._v(" "),"viewError"===e.state?a("div",{staticClass:"input-group-prepend"},[a("i",{staticClass:"input-group-text fas fa-exclamation-circle"})]):e._e(),e._v(" "),"checkbox"===e.$attrs.type?a("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.newValue,expression:"newValue"}],ref:"input",class:{"form-control":!0,"is-invalid":e.$v.$error},attrs:{name:"input",disabled:e.view,"aria-invalid":e.$v.$error,type:"checkbox"},domProps:{checked:Array.isArray(e.newValue)?e._i(e.newValue,null)>-1:e.newValue},on:{input:e.onInput,change:function(t){var a=e.newValue,i=t.target,r=!!i.checked;if(Array.isArray(a)){var n=e._i(a,null);i.checked?n<0&&(e.newValue=a.concat([null])):n>-1&&(e.newValue=a.slice(0,n).concat(a.slice(n+1)))}else e.newValue=r}}},"input",e.$attrs,!1)):"radio"===e.$attrs.type?a("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.newValue,expression:"newValue"}],ref:"input",class:{"form-control":!0,"is-invalid":e.$v.$error},attrs:{name:"input",disabled:e.view,"aria-invalid":e.$v.$error,type:"radio"},domProps:{checked:e._q(e.newValue,null)},on:{input:e.onInput,change:function(t){e.newValue=null}}},"input",e.$attrs,!1)):a("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.newValue,expression:"newValue"}],ref:"input",class:{"form-control":!0,"is-invalid":e.$v.$error},attrs:{name:"input",disabled:e.view,"aria-invalid":e.$v.$error,type:e.$attrs.type},domProps:{value:e.newValue},on:{input:[function(t){t.target.composing||(e.newValue=t.target.value)},e.onInput]}},"input",e.$attrs,!1)),e._v(" "),e._t("errors",null,{$v:e.$v.newValue}),e._v(" "),a("div",{staticClass:"input-group-append"},["viewError"===e.state?a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button",disabled:e.disabled},on:{click:e.onResend}},[a("i",{staticClass:"fas fa-sync"})]):e._e(),e._v(" "),e.state.startsWith("view")?a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button",disabled:e.disabled},on:{click:function(t){return e.send("edit")}}},[a("i",{staticClass:"fas fa-edit"})]):e._e(),e._v(" "),e.state.startsWith("edit")?a("button",{staticClass:"btn btn-outline-success",attrs:{type:"button",disabled:e.isSame||!e.state.endsWith("Valid")||e.disabled},on:{click:e.onSubmit}},[a("i",{staticClass:"fas fa-check-circle"})]):e._e(),e._v(" "),e.state.startsWith("edit")?a("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:e.onCancel}},[a("i",{staticClass:"fas fa-times-circle"})]):e._e()])],2)])])}),[],!1,null,"1a0579a8",null),q=_.exports,L=a(839),z=a(3527),C=a(3037);i.Z.use(o());var $={components:{InputEdit:q,EmailStatus:L.Z,Tooltip:z.Z},extends:C.Z,props:{data:{type:Object,default(){return{}}},routes:{type:Object,required:!0}},data(){return{participants:this.data.participants,draw:this.data.draw,expires_at:this.data.expires_at,deleted_at:this.data.deleted_at,finalCsvAvailable:this.data.finalCsvAvailable,changeEmailUrls:this.data.changeEmailUrls,withdrawalUrls:this.data.withdrawalUrls,validations:{email:{required:l.C1,format:l.Do}},canWithdraw:!1}},computed:{checkUpdates(){return!!Object.values(this.participants).find((e=>"error"!==e.mail.delivery_status))},expired(){return d()(this.expires_at).isBefore(d()(),"day")},expirationDateShort(){return d()(this.expires_at).format("YYYY-MM-DD")},expirationDateLong(){return new Date(this.expires_at).toLocaleString("fr-FR",{day:"numeric",month:"long",year:"numeric"})},deletionDateLong(){return new Date(this.deleted_at).toLocaleString("fr-FR",{day:"numeric",month:"long",year:"numeric"})}},created(){m.Z.channel("draw."+this.draw).listen(".mail.update",(e=>{var t=Object.keys(this.participants).find((t=>this.participants[t].mail.id===e.id));t&&(this.participants[t].mail.delivery_status=e.delivery_status,this.participants[t].mail.updated_at=e.updated_at)}))},methods:{confirmPurge(){let e={okText:this.$t("organizer.purge.confirm.ok"),cancelText:this.$t("organizer.purge.confirm.cancel"),verification:this.$t("organizer.purge.confirm.value"),verificationHelp:this.$t("organizer.purge.confirm.help"),type:"hard",customClass:"purge"},t={title:this.$t("organizer.purge.confirm.title",{deletion:this.deletionDateLong}),body:""};this.finalCsvAvailable&&!this.expired?t.body=this.$t("organizer.purge.confirm.body_final"):this.expired?t.body=this.$t("organizer.purge.confirm.body_expired"):t.body=this.$t("organizer.purge.confirm.body_nofinal"),this.$dialog.confirm(t,e).then(this.purge)},purge(){return(0,p.Z)(this.routes.deleteUrl,"DELETE").then((e=>{this.$dialog.alert(e.message).then((()=>window.location.pathname="/"))}))},updateEmail(e,t){return this.participants[e].email=t,this.participants[e].mail.delivery_status="created",this.participants[e].mail.updated_at=(new Date).getTime(),(0,p.Z)(this.changeEmailUrls[this.participants[e].hash],"POST",{email:t})},confirmWithdrawal(e){let t={okText:this.$t("organizer.withdraw.confirm.ok"),cancelText:this.$t("organizer.withdraw.confirm.cancel"),verification:this.$t("organizer.withdraw.confirm.value"),verificationHelp:this.$t("organizer.withdraw.confirm.help"),type:"hard",customClass:"withdraw"};this.$dialog.confirm({title:this.$t("organizer.withdraw.confirm.title",{deletion:this.deletionDateLong}),body:this.$t("organizer.withdraw.confirm.body",{name:this.participants[e].name})},t).then((()=>this.withdraw(e)))},withdraw(e){var t=this.withdrawalUrls[this.participants[e].hash];return this.$delete(this.participants,e),(0,p.Z)(t).then((e=>{this.$dialog.alert(e.message)}))},download(){(0,p.Z)(this.routes.csvInitUrl,"GET","",{responseType:"blob"}).then((e=>{(0,u.LR)(e,"secretsanta_"+this.expirationDateShort+"_init.csv","text/csv")}))},downloadPlus(){(0,p.Z)(this.routes.csvFinalUrl,"GET","",{responseType:"blob"}).then((e=>{(0,u.LR)(e,"secretsanta_"+this.expirationDateShort+"_full.csv","text/csv")}))}}},S=$,k=a(639),E={insert:"head",singleton:!1},j=(g()(k.Z,E),k.Z.locals,(0,y.Z)(S,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.expired?i("div",{staticClass:"alert alert-warning",attrs:{role:"alert"}},[e._v("\n        "+e._s(e.$t("organizer.expired",{expires_at:e.expirationDateLong}))+"\n    ")]):e._e(),e._v(" "),i("table",{staticClass:"table table-hover"},[i("caption",[e._v(e._s(e.$t("organizer.list.caption")))]),e._v(" "),i("thead",[i("tr",{staticClass:"table-active"},[i("th",{staticStyle:{width:"33%"},attrs:{scope:"col"}},[e._v("\n                    "+e._s(e.$t("organizer.list.name"))+"\n                ")]),e._v(" "),i("th",{staticStyle:{width:"33%"},attrs:{scope:"col"}},[e._v("\n                    "+e._s(e.$t("organizer.list.email"))+"\n                ")]),e._v(" "),i("th",{style:e.canWithdraw?"width: 30%":"width: 33%",attrs:{scope:"col"}},[e._v("\n                    "+e._s(e.$t("organizer.list.status"))+"\n                ")]),e._v(" "),e.canWithdraw?i("th",{staticStyle:{width:"3%"},attrs:{scope:"col"}},[e._v("\n                    "+e._s(e.$t("organizer.list.withdraw"))+"\n                ")]):e._e()])]),e._v(" "),i("tbody",e._l(e.participants,(function(t,a){return i("tr",{key:t.hash},[i("td",[e._v(e._s(t.name))]),e._v(" "),i("td",[i("input-edit",{attrs:{value:t.email,validation:e.validations.email,update:function(t){return e.updateEmail(a,t)},disabled:e.expired},scopedSlots:e._u([{key:"errors",fn:function(t){var a=t.$v;return[a.required?a.format?e._e():i("div",{staticClass:"invalid-tooltip"},[e._v(e._s(e.$t("validation.custom.organizer.email.format")))]):i("div",{staticClass:"invalid-tooltip"},[e._v(e._s(e.$t("validation.custom.organizer.email.required")))])]}}],null,!0)})],1),e._v(" "),i("td",[i("email-status",{attrs:{delivery_status:t.mail.delivery_status,last_update:t.mail.updated_at,disabled:e.expired},on:{redo:function(i){return e.updateEmail(a,t.email)}}})],1),e._v(" "),e.canWithdraw?i("td",[i("button",{staticClass:"btn btn-outline-danger participant-remove",attrs:{type:"button"},on:{click:function(t){return e.confirmWithdrawal(a)}}},[i("i",{staticClass:"fas fa-minus"}),i("span",[e._v(" "+e._s(e.$t("organizer.withdraw.button")))])])]):e._e()])})),0)]),e._v(" "),i("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:e.confirmPurge}},[i("i",{staticClass:"fas fa-trash"}),e._v("\n        "+e._s(e.$t("organizer.purge.button"))+"\n    ")]),e._v(" "),e.data.finalCsvAvailable?[i("tooltip",{attrs:{direction:"right"},scopedSlots:e._u([{key:"tooltip",fn:function(){return[i("picture",[i("source",{attrs:{srcset:a(476),type:"image/webp"}}),e._v(" "),i("source",{attrs:{srcset:a(183),type:"image/jpg"}}),e._v(" "),i("img",{staticClass:"media-object",attrs:{src:a(183)}})]),e._v(" "),i("div",{staticClass:"text-content"},[i("h3",[e._v(e._s(e.$t("organizer.download.button_initial-tooltip.title")))]),e._v(" "),i("p",[e._v(e._s(e.$t("organizer.download.button_initial-tooltip.content")))])])]},proxy:!0},{key:"default",fn:function(){return[i("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.download}},[i("i",{staticClass:"fas fa-download"}),e._v("\n                    "+e._s(e.$t("organizer.download.button_initial"))+"\n                ")])]},proxy:!0}],null,!1,4181022281)}),e._v(" "),i("tooltip",{attrs:{direction:"right"},scopedSlots:e._u([{key:"tooltip",fn:function(){return[i("picture",[i("source",{attrs:{srcset:a(2433),type:"image/webp"}}),e._v(" "),i("source",{attrs:{srcset:a(4516),type:"image/jpg"}}),e._v(" "),i("img",{staticClass:"media-object",attrs:{src:a(4516)}})]),e._v(" "),i("div",{staticClass:"text-content"},[i("h3",[e._v(e._s(e.$t("organizer.download.button_final-tooltip.title")))]),e._v(" "),i("p",[e._v(e._s(e.$t("organizer.download.button_final-tooltip.explain")))]),e._v(" "),i("p",{staticClass:"border border-white border-1 rounded pl-2 pr-2 font-italic"},[e._v(e._s(e.$t("organizer.download.button_final-tooltip.limit",{expires_at:e.expirationDateLong,deleted_at:e.deletionDateLong})))])])]},proxy:!0},{key:"default",fn:function(){return[i("button",{staticClass:"btn btn-primary",attrs:{disabled:!e.expired,type:"button"},on:{click:e.downloadPlus}},[i("i",{staticClass:"fas fa-download"}),e._v("\n                    "+e._s(e.$t("organizer.download.button_final"))+"\n                ")])]},proxy:!0}],null,!1,2376339514)})]:i("tooltip",{attrs:{direction:"right"},scopedSlots:e._u([{key:"tooltip",fn:function(){return[i("picture",[i("source",{attrs:{srcset:a(476),type:"image/webp"}}),e._v(" "),i("source",{attrs:{srcset:a(183),type:"image/jpg"}}),e._v(" "),i("img",{staticClass:"media-object",attrs:{src:a(183)}})]),e._v(" "),i("div",{staticClass:"text-content"},[i("h3",[e._v(e._s(e.$t("organizer.download.button-tooltip.title")))]),e._v(" "),i("p",[e._v(e._s(e.$t("organizer.download.button-tooltip.content")))])])]},proxy:!0},{key:"default",fn:function(){return[i("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.download}},[i("i",{staticClass:"fas fa-download"}),e._v("\n                "+e._s(e.$t("organizer.download.button"))+"\n            ")])]},proxy:!0}])})],2)}),[],!1,null,"12dd0522",null).exports),A=a(9496);i.Z.use(r.Z);const Z=document.documentElement.lang.substr(0,2),T=new r.Z({locale:Z,messages:n.Z});window.app=new i.Z({mixins:[(0,A.F)(j)],i18n:T,data:{routes:window.global.routes},mounted:function(){document.body.classList.add("cssLoading"),setTimeout((()=>document.body.classList.remove("cssLoading")),0)}})},7105:function(e,t,a){"use strict";var i=a(1832);const r=a(8307);r.defaults.transition="slide",r.defaults.theme.ok="btn btn-primary",r.defaults.theme.cancel="btn btn-danger",r.defaults.theme.input="form-control",r.defaults.notifier.position="top-right";const n=document.documentElement.lang.substr(0,2);r.errorAlert||r.dialog("errorAlert",(function(){return{setup(){return{options:{frameless:!1,movable:!1,closableByDimmer:!1,maximizable:!1,resizable:!1},buttons:[{text:r.defaults.glossary.ok,key:27,invokeOnClose:!0,className:r.defaults.theme.ok}],focus:{element:0,select:!1}}},build(){var e='<span class="fa fa-times-circle fa-2x" style="vertical-align:middle;color:#e10000;"></span> '+i.Z[n].common.internal;this.setHeader(e)}}}),!0,"alert"),r.confirmAlert||r.dialog("confirmAlert",(function(){return{setup(){return{options:{frameless:!1,movable:!1,closableByDimmer:!1,maximizable:!1,resizable:!1},buttons:[{text:r.defaults.glossary.ok,key:27,invokeOnClose:!0,className:r.defaults.theme.ok}],focus:{element:0,select:!1}}},build(){var e='<span class="fa fa-check fa-2x" style="vertical-align:middle;color:#00e100;"></span> '+i.Z[n].common.success;this.setHeader(e)}}}),!0,"alert"),t.Z=r},2376:function(e,t,a){"use strict";var i=a(4554);window.Pusher=a(6606),t.Z=new i.Z({broadcaster:"pusher",key:window.global.pusher.key,wsHost:window.global.pusher.host,wsPort:443,disableStats:!0,enabledTransports:["ws","wss"]})},8424:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});var i=a(8261);function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function n(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){s(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t,a,r){let s;return(0,i.Kn)(a)||(0,i.kJ)(a)?(s=new FormData,Object.entries(a).forEach((e=>{let[t,a]=e;return s.append(t,a)}))):a&&(s=new URLSearchParams(a)),window.fetch(new Request(e,{method:t||"GET",headers:n({"X-HASH-IV":window.location.hash.substr(1),"X-Requested-With":"XMLHttpRequest"},r||{}),body:s})).then((e=>{var t;return t=(r||{}).responseType?e.text():e.json(),e.ok?t:t.then((e=>Promise.reject(e)))}))}},8261:function(e,t,a){"use strict";a.d(t,{Kn:function(){return r},LR:function(){return i},kJ:function(){return n}});const i=(e,t,a)=>{var i=new Blob([e]);i=i.slice(0,i.size,a);const r=window.URL.createObjectURL(i),n=document.createElement("a");n.href=r,n.setAttribute("download",t),document.body.appendChild(n),n.click()},r=e=>"[object Object]"===Object.prototype.toString.call(e),n=e=>"[object Array]"===Object.prototype.toString.call(e)},1832:function(e,t){"use strict";t.Z={fr:{organizer:{url:"Lien reçu par un participant par email",fix:"Corriger",list:{name:"Nom",email:"Adresse Email",status:"Status d'envoi de l'email",caption:"Liste des participant(e)s",withdraw:"Retirer"},up_and_sent:"Modifié avec succès !",withdrawn:"{name} ne participe plus à l'évènement.",deleted:"Toutes les données ont été supprimées",download:{button:"Télécharger le récapitulatif","button-tooltip":{title:"Récapitulatif",content:"Ce sont les données telles que vous les avez remplies à la génération de l'évènement. Seules les adresses e-mail peuvent avoir changé, pour refléter les modifications que vous avez pu faire ici."},button_initial:"Télécharger le récapitulatif initial","button_initial-tooltip":{title:"Récapitulatif initial",content:"Ce sont les données telles que vous les avez remplies à la génération de l'évènement. Seules les adresses e-mail peuvent avoir changé, pour refléter les modifications que vous avez pu faire ici."},button_final:"Télécharger le récapitulatif complété","button_final-tooltip":{title:"Récapitulatif complété",explain:"Les données sont les mêmes que dans le récapitulatif initial mais ont été ajoutées aux exclusions de chaque participant(e) la cible qu'il a eu durant cet évènement. A moins que ceci amène à un blocage où on ne puisse plus trouver de cible à chaque participant(e) pour la prochaine fois.",limit:"Compte tenu de la date de l'évènement définie, cette fonctionnalité n'est disponible que du {expires_at} au {deleted_at}."}},purge:{button:"Supprimer tout",confirm:{title:"Êtes-vous sûr de vouloir supprimer la totalité des données avant le nettoyage automatique le {deletion} ?",body_final:"Vous ne pourrez plus télécharger le récapitulatif des tirages de cet évènement et les participant(e)s ne pourront plus écrire à leur père/mère noël secret. Cette action ne peut être annulée.",body_expired:"Vous ne pourrez plus télécharger le récapitulatif de cet évènement. Cette action ne peut être annulée.",body_nofinal:"Vous ne pourrez plus télécharger le récapitulatif de cet évènement et les participant(e)s ne pourront plus écrire à leur père/mère noël secret. Cette action ne peut être annulée.",value:"Supprimer toutes les données",help:'Saisir "[+:verification]" en dessous pour confirmer.',ok:"Ok",cancel:"Annuler"}},withdraw:{button:"Retirer",confirm:{title:"Êtes-vous sûr de vouloir retirer {name} de l'évènement ?",body:"Tous les messages reçu de sa cible seront transmis à son nouveau père/mère noël secret. Cette action ne peut être annulée.",value:"Annuler la participation",help:'Saisir "[+:verification]" en dessous pour confirmer.',ok:"Ok",cancel:"Annuler"}},expired:"Votre évènement est passé ({expires_at}). Certaines actions ne sont plus disponibles, comme réenvoyer le nom de la cible à un(e) participant(e)."},faq:{nav:{go:"Allez, c'est parti !",contact:"J'ai encore une question"},categories:{general:"Générales",technical:"Techniques"},questions:{general:{"Pourquoi avoir développé SecretSanta.fr ?":"Le développeur faisait fréquemment des soirées secret santa avec des amis ou des collègues avec les prénoms de chacun dans un chapeau. Chacun piochait un papier et c'est arrivé plusieurs fois que quelqu'un tombe sur son prénom. Parfois on relançait le tirage, parfois la personne ne le disais pas et je trouvais ça dommage. Alors il a eu l'idée d'en faire un outils. Le but était de faire en sorte que tout soit automatique et que personne ne se pioche soit même. Même l'organisateur/organisatrice participait comme tout le monde puisqu'il ne pouvait pas savoir qui avait pioché qui. Après sont venus les exclusions etc.","Comment ce site peut fonctionner en étant gratuit ?":"SecretSanta.fr est complètement gratuit pour les utilisateurs, pas pour le développeur qui paye les différents frais. Il n'y a aucune publicité ni revente d'informations.","Je me suis trompé dans mon adresse email quand j'ai organisé mon secret santa, comment faire ?":"Pour corriger ce problème, soit vous organizer un autre tirage, soit vous demandez à un des participant de vous transmettre l'adresse web qui lui permet d'écrire à son/sa père/mère noël secret et vous allez ensuite sur la page https://secretsanta.fr/fix. Si malgré cela, vous n'arrivez pas à faire votre modification, vous pouvez envoyez le lien de votre participant par email à l'adresse suivante : help@secretsanta.fr. Après vérification et durant son temps libre, le développeur pourra peut-être vous aider.","J'ai supprimé mon email d'accès au panneau d'organisateur/organisatrice, comment faire ?":"Pour corriger ce problème, soit vous organizer un autre tirage, soit vous demandez à un des participant de vous transmettre l'adresse web qui lui permet d'écrire à son/sa père/mère noël secret et et vous allez ensuite sur la page https://secretsanta.fr/fix.","Je me suis trompé dans l'adresse d'un participant":"Lorsque vous avez organisé votre secret santa, vous avez dû recevoir un email avec un lien vers un panneau d'organisateur/organisatrice. Vous pourrez modifier l'adresse email de chaque participant depuis cette interface.","Un des participants n'a pas reçu l'email, que faire ?":"Alors même que l'adresse renseignée est bonne, il arrive que l'email se perde, finisse en spam ou qu'un problème survienne faisant que l'email n'est pas arrivé. Depuis votre panneau d'organisateur/organisatrice, vous pouvez retrouver un bouton à côté du status de réception de l'email du participant pour pouvoir réenvoyer le-dit email. Comme ça, le participant pourra enfin savoir qui est sa cible et comment parler à son Santa.","Quand sont supprimés mes données personnelles ?":"Toutes vos données d'un tirage sont supprimées 7 jours après la date d'expiration. Ce délai a été fixé afin d'envoyer à l'organisateur/organisatrice la liste des participants avec leur cible piochée par mail afin d'aider à l'organisation d'un secretsanta avec les mêmes personnes plus tard en évitant de retomber sur les mêmes cibles.","J'ai oublié un participant, comment je peux le rajouter ?":"Malheureusement, de par sa conception, SecretSanta.fr ne permet pas de rajouter quelqu'un une fois le tirage effectué. Il vous reste cependant une option, autre que relancer le tirage : vous pouvez attribuez à cette personne votre propre cible et offrir vous même un cadeau à ce nouveau participant.","Qui peut savoir la liste des cibles ?":"Pour faire court : personne. Pour faire long : "},technical:{"Quelles données sont stockées et pourquoi ?":"Sont conservés pour chaque participant : nom et adresse email, pour chaque organisation, le titre et le contenu du mail envoyé ainsi que chaque message envoyé entre participant via le lien reçu par mail (appelé 'cher papa noël'). Elles sont conservées pour deux raisons : d'abord pour permettre cette dernière fonctionnalité qui permet d'écrire à son/sa père/mère noël secret. Ensuite pour permettre de réenvoyer les emails en cas d'erreur d'adresse.","Comment sont stockées les données ?":"Chaque élement est chiffré en AES-256 avec une clef unique par organisation. Cette clef n'est pas stockée et est envoyée à chaque participant. L'administrateur ne peut donc jamais accéder aux données sans action de votre part. Chaque fois que vous effectuez une action, vous utilisez automatiquement cette clef qui n'est que prétée à SecretSanta pour faire l'action demandée sans jamais l'enregistrer.","Je voudrais supprimer mes données, comment faire ?":"De part la façon dont sont stockées les données, l'administrateur est dans l'incapacité de savoir quelle donnée appartient à qui. Seul l'organisateur/organisatrice est en capacité de supprimer les données de tous les participants d'un coup. Sinon, ces données sont automatiquement supprimées peu après la fin de l'évènement.","J'aimerais vérifier par moi même le code source, où puis-je le trouver ?":"Avec grand plaisir ! Le code source se trouve à l'adresse suivante : https://framagit.com/Korko/SecretSanta. Vous pouvez aussi trouver le lien en haut à droite de la page principale, dans le petit ruban rouge."}}},common:{internal:"Une erreur est survenue",success:"Succès",copied:"Copié dans le presse papier",fetcher:{load:"Charger",loading:"Chargement en cours..."},form:{send:"Envoyer",sending:"Envoi en cours",sent:"Envoyé",reset:"Commencer un nouveau tirage"},modal:{close:"Fermer"},email:{redo:"Ré-envoyer",status:{created:"En attente d'envoi",sending:"Envoi en cours",sent:"Envoyé",error:"Erreur",received:"Reçu"},recent:"Vous ne pouvez pas relancer un même email trop rapidement"}},validation:{accepted:"Le champ {attribute} doit être accepté.",active_url:"Le champ {attribute} n'est pas une URL valide.",after:"Le champ {attribute} doit être une date postérieure au {date}.",alpha:"Le champ {attribute} doit seulement contenir des lettres.",alpha_dash:"Le champ {attribute} doit seulement contenir des lettres, des chiffres et des tirets.",alpha_num:"Le champ {attribute} doit seulement contenir des chiffres et des lettres.",array:"Le champ {attribute} doit être un tableau.",before:"Le champ {attribute} doit être une date antérieure au {date}.",between:{numeric:"La valeur de {attribute} doit être comprise entre {min} et {max}.",file:"Le fichier {attribute} doit avoir une taille entre {min} et {max} kilo-octets.",string:"Le texte {attribute} doit avoir entre {min} et {max} caractères.",array:"Le tableau {attribute} doit avoir entre {min} et {max} éléments."},boolean:"Le champ {attribute} doit être vrai ou faux.",confirmed:"Le champ de confirmation {attribute} ne correspond pas.",date:"Le champ {attribute} n'est pas une date valide.",date_format:"Le champ {attribute} ne correspond pas au format {format}.",different:"Les champs {attribute} et {other} doivent être différents.",digits:"Le champ {attribute} doit avoir {digits} chiffres.",digits_between:"Le champ {attribute} doit avoir entre {min} et {max} chiffres.",email:"Le champ {attribute} doit être une adresse email valide.",exists:"Le champ {attribute} sélectionné est invalide.",filled:"Le champ {attribute} est obligatoire.",image:"Le champ {attribute} doit être une image.",in:"Le champ {attribute} est invalide.",integer:"Le champ {attribute} doit être un entier.",ip:"Le champ {attribute} doit être une adresse IP valide.",json:"Le champ {attribute} doit être un document JSON valide.",max:{numeric:"La valeur de {attribute} ne peut être supérieure à {max}.",file:"Le fichier {attribute} ne peut être plus gros que {max} kilo-octets.",string:"Le texte de {attribute} ne peut contenir plus de {max} caractères.",array:"Le tableau {attribute} ne peut avoir plus de {max} éléments."},mimes:"Le champ {attribute} doit être un fichier de type : {values}.",min:{numeric:"La valeur de {attribute} doit être supérieure à {min}.",file:"Le fichier {attribute} doit être plus gros que {min} kilo-octets.",string:"Le texte {attribute} doit contenir au moins {min} caractères.",array:"Le tableau {attribute} doit avoir au moins {min} éléments."},not_in:"Le champ {attribute} sélectionné n'est pas valide.",numeric:"Le champ {attribute} doit contenir un nombre.",regex:"Le format du champ {attribute} est invalide.",required:"Le champ {attribute} est obligatoire.",required_if:"Le champ {attribute} est obligatoire quand la valeur de {other} est {value}.",required_unless:"Le champ {attribute} est obligatoire sauf si {other} est {values}.",required_with:"Le champ {attribute} est obligatoire quand {values} est présent.",required_with_all:"Le champ {attribute} est obligatoire quand {values} est présent.",required_without:"Le champ {attribute} est obligatoire quand {values} n'est pas présent.",required_without_all:"Le champ {attribute} est requis quand aucun de {values} n'est présent.",same:"Les champs {attribute} et {other} doivent être identiques.",size:{numeric:"La valeur de {attribute} doit être {size}.",file:"La taille du fichier de {attribute} doit être de {size} kilo-octets.",string:"Le texte de {attribute} doit contenir {size} caractères.",array:"Le tableau {attribute} doit contenir {size} éléments."},string:"Le champ {attribute} doit être une chaîne de caractères.",timezone:"Le champ {attribute} doit être un fuseau horaire valide.",unique:"La valeur du champ {attribute} est déjà utilisée.",url:"Le format de l'URL de {attribute} n'est pas valide.",recaptcha:"Le captcha n'a pas pu être validé.",custom:{"g-recaptcha-response":{required:"Le captcha est obligatoire",recaptcha:"Le captcha est invalide"},randomform:{"participant-organizer":{required:"Vous devez spécifier si l'organisateur participe ou non à l'évènement."},title:{required:"Le titre de l'email est requis."},content:{required:"Le contenu de l'email est requis.",contains:"Le contenu de l'email doit contenir le mot {TARGET} pour indiquer la cible."},expiration:{required:"La date d'expiration est requise.",min:"La date d'expiration ne peut pas précéder demain.",max:"La date d'expiration ne peut pas dépasser un an.",format:"La date d'expiration doit respecter le format année-mois-jour exemple: 2022-02-05."},participants:{length:"Il faut au moins 3 participant(e)s"},organizer:{name:{required:"Le nom de l'organisateur/organisatrice est requis."},email:{required:"Cette adresse email est requise.",format:"Le format de cette adresse est invalide."}},participant:{name:{required:"Ce/Cette participant(e) est requis (au moins 3 personnes).",distinct:"Ce/Cette participant(e) n'a pas un nom unique."},email:{required:"Cette adresse email est requise.",format:"Le format de cette adresse est invalide."}}},dearSanta:{content:{required:"Le contenu du message est requis."}},organizer:{email:{required:"La nouvelle adresse est requise.",format:"Le format de l'adresse n'est pas valide."}},fixOrganizer:{url:{required:"L'URL est requise.",format:"L'URL n'est pas valide."},email:{required:"L'adresse email est requise.",format:"Le format de l'adresse n'est pas valide."}}},attributes:{name:"Nom",username:"Pseudo",email:"E-mail",first_name:"Prénom",last_name:"Nom",password:"Mot de passe",password_confirmation:"Confirmation du mot de passe",city:"Ville",country:"Pays",address:"Adresse",phone:"Téléphone",mobile:"Portable",age:"Age",sex:"Sexe",gender:"Genre",day:"Jour",month:"Mois",year:"Année",hour:"Heure",minute:"Minute",second:"Seconde",title:"Titre",content:"Contenu",description:"Description",excerpt:"Extrait",date:"Date",time:"Heure",available:"Disponible",size:"Taille","g-recaptcha-response":"Recaptcha"}},form:{nav:{what:"Qu'est-ce que c'est ?",how:"Comment faire ?",go:"Allez, c'est parti !",faq:"Foire Aux Questions"},title:"Secret Santa .fr",subtitle:"Offrez-vous des cadeaux... secrètement !",fyi:"Pour votre information",section:{what:{title:"Qu'est-ce que c'est ?",subtitle:"Description du Secret Santa",heading1:"Le principe",content1:"Secret Santa est un moyen drôle et original de s'offrir anonymement des cadeaux entre amis, collègues...\nLe déroulement est simple : chaque participant reçoit, de façon aléatoire, le nom de la personne à qui il devra faire un cadeau.\nLe montant du cadeau est généralement fixé au préalable (2€, 5€, 10€...)\nLe but n'est pas forcément de faire un beau cadeau mais d'être créatif !",notice:"secretsanta.fr est entièrement gratuit et sans publicité.\nTout est payé par le développeur lui-même.\nSi cet outil vous plait, pensez à faire un don.\n{button}"},how:{title:"Comment faire ?",subtitle:"Vous allez voir, c'est très simple !",heading1:"Première étape : lister les participant(e)s",content1:'Grâce aux boutons "Ajouter un(e) participant(e)" et "Enlever un(e) participant(e)", il est possible d\'ajuster le nombre de personnes.\nPour chaque personne, indiquez un nom/prénom ou un pseudonyme, et une adresse email.\nDeux participant(e)s ne peuvent avoir le même nom, sinon il est impossible de les différencier.\nA noter que secretsanta.fr est conçu de façon à ce qu\'une personne ne puisse pas se piocher elle-même.',heading2:"Deuxième étape : préciser les exclusions",content2:"Ajoutez des exclusions. Si vous ne voulez pas que deux participant(e)s puissent se piocher l'un l'autre, remplissez le champ \"Exclusions\".",heading3:"Troisième étape : préparer l'e-mail",content3:'Il ne vous reste plus qu\'à remplir le titre et le corps du courriel que les participant(e)s recevront.\nLe mot clef "{TARGET}" est obligatoire dans le corps du message afin de donner à chaque personne sa "cible".\n(Optionel) Vous pouvez aussi utiliser le mot clef "{SANTA}" qui sera remplacé par le nom du destinataire du message.',notice:"secretsanta.fr ne sauvegarde vos données que lorsque cela est requis.\nCelles-ci sont chiffrées pour être inutilisables sans action de votre part.\nAucune de ces données ne seront partagées et vous avez le contrôle total sur celles-ci.\nLe code source est disponible sur {link}",heading4:"Et après ?",content4:"Jusqu'au jour de l'évènement spécifiée à la fin, les participant(e)s peuvent écrire un mot à leur Santa depuis un lien qu'ils reçoivent par email.\nCelui-ci ne peut, en revanche, pas répondre, au risque de dévoiler son identité.\nL'organisateur/organisatrice dispose aussi d'une interface dédiée pour retrouver le récapitulatif des participant(e)s et des exclusions."},go:{title:"À vous de jouer !",subtitle:"Remplissez, cliquez et c'est parti !"}},waiting:'Formulaire en cours de création. Si ce message reste affiché, essayez de rafraichir la page, sinon contactez moi par mail (<a href="mailto:&#x6a;&#x65;&#x72;&#x65;&#x6d;&#x79;&#x2e;&#x6c;&#x65;&#x6d;&#x65;&#x73;&#x6c;&#x65;&#x40;&#x6b;&#x6f;&#x72;&#x6b;&#x6f;&#x2e;&#x66;&#x72;">&#x6a;&#x65;&#x72;&#x65;&#x6d;&#x79;&#x2e;&#x6c;&#x65;&#x6d;&#x65;&#x73;&#x6c;&#x65;&#x40;&#x6b;&#x6f;&#x72;&#x6b;&#x6f;&#x2e;&#x66;&#x72;</a>) ou via <a href="https://github.com/Korko">GitHub</a>. Merci.',success:"Envoyé avec succès !",organizerIn:"L'organisateur/organisatrice participe",organizerOut:"L'organisateur/organisatrice ne participe pas",organizer:{title:"Détails de l'organisateur/organisatrice",name:"Nom ou pseudonyme de l'organisateur/organisatrice",email:"Adresse e-mail de l'organisateur/organisatrice"},participants:{title:"Détails des participant(e)s",import:"Importer depuis un fichier",importing:"Import en cours",caption:"Liste des participats"},participant:{organizer:"Organisateur·rice",name:{label:"Nom ou pseudonyme",placeholder:"exemple : Paul ou Korko"},email:{label:"Adresse e-mail",placeholder:"exemple : michel@aol.com"},exclusions:{label:"Exclusions",placeholder:"Aucune exclusion",noOptions:"Liste vide",noResult:"Aucun résultat"},remove:"Enlever",add:"Ajouter un(e) participant(e)"},csv:{title:"Importer une liste de participant(e)s depuis un fichier CSV",help:"Comment créer un fichier CSV avec {excel} Microsoft Office Excel {elink} ou {calc} Libre Office Calc {elink}",format:"Afin que votre fichier CSV fonctionne, voici le format attendu :",column1:"Nom du/de la participant(e)",column2:"Adresse e-mail",column3:"Exclusions (noms séparés par une virgule)",warning:"Attention, l'import de ces données supprimera les participant(e)s déjà renseignés.",cancel:"Annuler",import:"Importer",importError:"Une erreur est survenue lors de l'import.",importSuccess:"L'import a été effectué avec succès.",analyzing:"Chargement en cours..."},mail:{title:{label:"Titre du mail",placeholder:"ex : Soirée secretsanta du 23 décembre chez Martin, {SANTA} ta cible est..."},content:{label:"Contenu du mail",placeholder:"ex : Salut {SANTA}, pour la soirée secret santa, ta cible c'est {TARGET}. Pour rappel, le montant du cadeau est de 3€ !",tip1:'Utilisez "{santa}&#123;SANTA&#125;{close}" pour le nom de celui qui recevra le mail et "{target}&#123;TARGET&#125;{close}" pour le nom de sa cible.',tip2:"Conseil : Pensez à rappeler la date, le lieu ainsi que le montant du cadeau."},post:"----\nPour écrire à votre Secret Santa, allez sur la page suivante : {link}\nvia SecretSanta.fr"},"data-expiration":"Date de l'évènement : ","data-expiration-tooltip":{title:"Date de l'évènement",interface:"Une interface dédiée vous permettra d'accéder à un récapitulatif des participant(e)s jusqu'au jour de l'évènement.",deletion:"Toutes les données stockées seront supprimées une semaine après."},submit:"Lancez l'aléatoire !",paypal:{alt:"PayPal, le réflexe sécurité pour payer en ligne"},internalError:"Erreur interne"},dearsanta:{list:{date:"Date d'envoi",body:"Corps du message",status:"Status de réception de l'email",empty:"Aucun email envoyé pour le moment",caption:"Liste des emails envoyés au/à la Père/Mère Noël"},content:{label:"Contenu du mail",placeholder:"Cher Papa Noël..."},resend:{button:"Me ré-envoyer les mails que j'ai reçu de ma cible"}}}}},4516:function(e,t,a){e.exports=a.p+"images/mike-arney-9r-_2gzP37k-unsplash.jpg?037701eb5d3ba5d6b788f3e23705c4af"},2433:function(e,t,a){e.exports=a.p+"images/mike-arney-9r-_2gzP37k-unsplash.webp?7af81cfa8a59104db4fed3a1f5a42905"},183:function(e,t,a){e.exports=a.p+"images/rune-haugseng-UCzjZPCGV1Y-unsplash.jpg?23ea2b8e82c6fcb03e40e56b852091c8"},476:function(e,t,a){e.exports=a.p+"images/rune-haugseng-UCzjZPCGV1Y-unsplash.webp?a9312040b52763a0ac114a759167892c"},1872:function(e,t,a){"use strict";var i=a(1519),r=a.n(i)()((function(e){return e[1]}));r.push([e.id,".input-group-append[data-v-89442cb0]{display:inline;margin-left:10px}.error[data-v-89442cb0]{color:red}.sent[data-v-89442cb0]{color:orange}.received[data-v-89442cb0]{color:green}",""]),t.Z=r},2593:function(e,t,a){"use strict";var i=a(1519),r=a.n(i)()((function(e){return e[1]}));r.push([e.id,'.input-group>.input-group-prepend>.input-group-text[data-v-1a0579a8]{border-right:0}.input-group[data-v-1a0579a8]:after{bottom:-4px;box-sizing:border-box;content:"";height:2px;left:0;position:absolute;transition:width .285s ease-out;width:0;will-change:width;z-index:4}.input-group-append[data-v-1a0579a8]{z-index:5}.input-group[data-state=viewUpdated] .input-group-text[data-v-1a0579a8]{background:none;color:var(--success)}.input-group[data-state=viewError] .input-group-text[data-v-1a0579a8]{background:none;color:var(--danger)}.input-group[data-state=viewUpdated][data-v-1a0579a8]:after{background-color:var(--success);width:100%}.input-group[data-state=viewError][data-v-1a0579a8]:after{background-color:var(--danger);width:100%}input[data-v-1a0579a8]{background:none;box-shadow:none!important;height:100%}.table-hover tbody tr:hover input[data-v-1a0579a8]{color:#212529}@keyframes check-data-v-1a0579a8{0%{stroke-dashoffset:10}to{stroke-dashoffset:0}}.fa-check path[data-v-1a0579a8]{animation-duration:2s;animation-name:check-data-v-1a0579a8;transform-origin:50% 50%;transition:stroke-dashoffset .35s}',""]),t.Z=r},639:function(e,t,a){"use strict";var i=a(1519),r=a.n(i),n=a(1550),s=r()((function(e){return e[1]}));s.i(n.Z),s.push([e.id,".table td[data-v-12dd0522]{vertical-align:middle!important}table caption[data-v-12dd0522]{display:none}",""]),t.Z=s},8313:function(e,t,a){"use strict";var i=a(1519),r=a.n(i)()((function(e){return e[1]}));r.push([e.id,'.tip-wrapper[data-v-47a2e61a]{display:inline-block;position:relative;text-align:left}.tip-wrapper .tip-handler *[data-v-47a2e61a]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted}.tip-content h3[data-v-47a2e61a]{margin:12px 0}.tip-content[data-v-47a2e61a]{background-color:#444;border-radius:8px;box-shadow:0 1px 8px rgba(0,0,0,.5);box-sizing:border-box;color:#eee;font-size:13px;font-weight:400;max-width:400px;min-width:300px;opacity:0;padding:0;position:absolute;transition:opacity .8s;visibility:hidden;z-index:99999999}.tip-content.right[data-v-47a2e61a]{left:100%;margin-left:20px;top:50%;transform:translateY(-50%)}.tip-content.left[data-v-47a2e61a]{margin-right:20px;right:100%;top:50%;transform:translateY(-50%)}.tip-content.top[data-v-47a2e61a]{left:50%;top:-20px;transform:translate(-30%,-100%)}.tip-content.bottom[data-v-47a2e61a]{left:50%;top:40px;transform:translate(-50%)}.tip-wrapper:hover .tip-content[data-v-47a2e61a]{opacity:1;visibility:visible}.tip-content img[data-v-47a2e61a]{border-radius:8px 8px 0 0;width:400px}.tip-content .text-content[data-v-47a2e61a]{padding:10px 20px}.tip-content.right i[data-v-47a2e61a]{height:24px;margin-top:-12px;overflow:hidden;position:absolute;right:100%;top:50%;width:12px}.tip-content.right i[data-v-47a2e61a]:after{background-color:#444;box-shadow:0 1px 8px rgba(0,0,0,.5);content:"";height:12px;left:0;position:absolute;top:50%;transform:translate(50%,-50%) rotate(-45deg);width:12px}.tip-content.left i[data-v-47a2e61a]{height:24px;left:100%;margin-top:-12px;overflow:hidden;position:absolute;top:50%;width:12px}.tip-content.left i[data-v-47a2e61a]:after{background-color:#444;box-shadow:0 1px 8px rgba(0,0,0,.5);content:"";height:12px;left:0;position:absolute;top:50%;transform:translate(-50%,-50%) rotate(-45deg);width:12px}.tip-content.top i[data-v-47a2e61a]{height:12px;left:30%;margin-left:-12px;overflow:hidden;position:absolute;top:100%;width:24px}.tip-content.top i[data-v-47a2e61a]:after{background-color:#444;box-shadow:0 1px 8px rgba(0,0,0,.5);content:"";height:15px;left:50%;position:absolute;transform:translate(-50%,-50%) rotate(45deg);width:15px}.tip-content.bottom i[data-v-47a2e61a]{bottom:100%;height:12px;left:50%;margin-left:-12px;overflow:hidden;position:absolute;width:24px}.tip-content.bottom i[data-v-47a2e61a]:after{background-color:#444;box-shadow:0 1px 8px rgba(0,0,0,.5);content:"";height:12px;left:50%;position:absolute;transform:translate(-50%,50%) rotate(45deg);width:12px}',""]),t.Z=r},7344:function(e,t,a){"use strict";a.d(t,{Z:function(){return u}});var i=a(9755),r=a.n(i),n=a(8424),s=a(7105),o={props:{action:{type:String,default:""},button:{type:Boolean,default:!0},buttonSend:{type:String,default:""},buttonSending:{type:String,default:""},buttonSent:{type:String,default:""},buttonReset:{type:String,default:""},$v:{type:Object,default:null},sendIcon:{type:String,default:"paper-plane"},autoReset:{type:Boolean,default:!1}},data:()=>({fieldErrors:[],sending:!1,sent:!1}),watch:{sending(){this.$emit("change",this.sending)}},methods:{fieldError(e){return this.fieldErrors[e]?this.fieldErrors[e][0]:null},call(e,t){if(!this.sending&&!this.sent)return this.$v&&this.$v.$touch(),(!this.$v||!this.$v.$invalid)&&(this.sending=!0,(0,n.Z)(e,"POST",t.data).then((e=>{this.fieldErrors=[],this.sending=!1,this.autoReset||(this.sent=!0),(t.success||t.then||function(){})(e),(t.complete||t.finally||function(){})(),this.$emit("success",e),this.autoReset&&this.onReset()})).catch((e=>{var a,i;e&&e.errors&&(this.fieldErrors=e.errors),this.sending=!1,(a=t.error||t.catch)&&a(e),(i=t.complete||t.finally)&&i(),!a&&!i&&this.fieldErrors.length>0&&s.Z.errorAlert(this.$t("form.internalError")),this.$emit("error")})))},onSubmit(){this.submit()},onReset(){this.$emit("reset"),this.fieldErrors=[],this.$v.$reset(),this.sending=!1,this.sent=!1},submit(e,t){this.$emit("beforeSubmit"),e=e||r()(this.$el).serialize();var a=this.call(this.action,Object.assign({data:e},t));return this.$emit("afterSubmit"),a}}},l=(0,a(1900).Z)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{attrs:{action:e.action,method:"post",autocomplete:"off"},on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)},reset:function(t){return t.preventDefault(),e.onReset.apply(null,arguments)}}},[a("fieldset",{attrs:{disabled:e.sending||e.sent}},[e._t("default",null,null,{sending:e.sending,sent:e.sent,submit:e.submit,onSubmit:e.onSubmit,onReset:e.onReset,fieldError:e.fieldError})],2),e._v(" "),e.button?a("fieldset",[a("button",{staticClass:"btn btn-primary btn-lg",attrs:{type:"submit",disabled:e.sent||e.sending}},[e.sent?a("span",[a("span",{staticClass:"fas fa-check-circle"}),e._v(" "+e._s(e.buttonSent||e.$t("common.form.sent")))]):e.sending?a("span",[a("span",{staticClass:"fas fa-spinner"}),e._v(" "+e._s(e.buttonSending||e.$t("common.form.sending")))]):a("span",[a("span",{class:"fas fa-"+e.sendIcon}),e._v(" "+e._s(e.buttonSend||e.$t("common.form.send")))])]),e._v(" "),e.sent?a("button",{staticClass:"btn btn-primary btn-lg",attrs:{type:"reset"}},[a("span",[a("span",{staticClass:"fas fa-backward"}),e._v(" "+e._s(e.buttonReset||e.$t("common.form.reset")))])]):e._e()]):e._e()])}),[],!1,null,null,null),u=l.exports},839:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var i={components:{Tooltip:a(3527).Z},props:{can_redo:{type:Boolean,default:!0},delivery_status:{type:String,required:!0},last_update:{type:[String,Number],default:null},disabled:{type:Boolean,default:!1},rateLimit:{type:Number,default:3e5}},data(){return{recent:!0,recentUpdateTimeout:null}},computed:{icon(){return{created:"fas fa-spinner",sending:"fas fa-spinner",sent:"fas fa-check",received:"fas fa-check",error:"fas fa-exclamation-triangle"}[this.delivery_status]}},watch:{last_update:{immediate:!0,handler(){this.recent=this.isRecent(),this.recent&&(this.recentUpdateTimeout&&clearTimeout(this.recentUpdateTimeout),this.recentUpdateTimeout=setTimeout((()=>{this.recent=this.isRecent()}),this.rateLimit-this.getDelay()))}}},methods:{getDelay(){return(new Date).getTime()-new Date(this.last_update).getTime()},isRecent(){return this.getDelay()<this.rateLimit}}},r=a(3379),n=a.n(r),s=a(1872),o={insert:"head",singleton:!1},l=(n()(s.Z,o),s.Z.locals,(0,a(1900).Z)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("span",[e._v(e._s(e.$t("common.email.status."+e.delivery_status))+" "),a("i",{class:[e.icon,e.delivery_status]})]),e._v(" "),e.can_redo||"error"===e.delivery_status?[e.recent?a("tooltip",{attrs:{direction:"left"},scopedSlots:e._u([{key:"tooltip",fn:function(){return[a("div",{staticClass:"text-content"},[e._v("\n                    "+e._s(e.$t("common.email.recent"))+"\n                ")])]},proxy:!0},{key:"default",fn:function(){return[a("button",{staticClass:"btn btn-outline-secondary",attrs:{disabled:!0,type:"button"}},[a("i",{staticClass:"fas fa-redo"}),e._v("\n                    "+e._s(e.$t("common.email.redo"))+"\n                ")])]},proxy:!0}],null,!1,2251434054)}):a("button",{staticClass:"btn btn-outline-secondary",attrs:{disabled:e.disabled,type:"button"},on:{click:function(t){return e.$emit("redo")}}},[a("i",{staticClass:"fas fa-redo"}),e._v("\n            "+e._s(e.$t("common.email.redo"))+"\n        ")])]:e._e()],2)}),[],!1,null,"89442cb0",null).exports)},3037:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var i={components:{AjaxForm:a(7344).Z}},r=(0,a(1900).Z)(i,(function(){var e=this.$createElement;return(this._self._c||e)("ajax-form")}),[],!1,null,null,null).exports},3527:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var i={props:{direction:{type:String,validator:function(e){return-1!==["top","left","bottom","right"].indexOf(e)},default:"right"}}},r=a(3379),n=a.n(r),s=a(8313),o={insert:"head",singleton:!1},l=(n()(s.Z,o),s.Z.locals,(0,a(1900).Z)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tip-wrapper"},[a("span",{staticClass:"tip-handler"},[e._t("default")],2),e._v(" "),a("div",{staticClass:"tip-content",class:e.direction},[e._t("tooltip"),a("i")],2)])}),[],!1,null,"47a2e61a",null).exports)}},function(e){e.O(0,[898],(function(){return t=7678,e(e.s=t);var t}));e.O()}]);